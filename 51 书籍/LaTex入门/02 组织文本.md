
# 2.1 文字与符号

## 字母

- 要直接输入除了ASCII外的特殊字符并正常显示，需要所使用的编辑器和字体支持
- 此外，Tex输出时，也要求输出所用的字体能直接显示这些字母
- 对字母来说，Times New Roman字体是覆盖比较全的字体
- 但特殊字符，还有另一种输入方式，就是使用特殊的命令
- 若要输入大量希腊字母和其他字母，默认的字体可能不够用，此时需要转换其他编码和字体
- LaTex提供了babel宏包，方便同时访问多种语言的字母表
- babel宏包可以带有一个或多个语言的可选参数，支持不同的语言，如：
```
\usepackage[greek, english]{babel}
\textgreek{abcde} % 此时希腊语可以用ASCII字符代替
```
- LaTex在排版中会将有些字符连写为一个符号，若需要取消连字，可以使用空分组{}或者命令\/取消，如`shelfful shelf{}ful shelf\/ful`

## 标点

- 常用六个标点 **,  .  ;  :  !  ?** 用来分隔句子或部分句子，每个标点之后应该加上空格，以确保正确的距离和换行
- 引号有左右之分，左右引号分别用 **\`** 或 **'** 表示，双引号输入两个对应的单引号
- 此外若单引号和双引号连续出现，需要用 **\\,** 命令分隔，如：**'\\,''**，这里的 **\\,** 会产生很小的间距
- 符号 **'** 同时也是撇号，如：I'm KangKang
- 引号和括号通常要在前后加空格分隔单词
- 符号 **-** 除了在公示模式中表示减号外，在正文中也有多种用途：
    - 单独使用为连字符，用于单词的连接，如 fully-connected
    - 两个连用 (--) 用于表示数字范围
    - 三个连用则会被解析为破折号
- 此外，在中文中，数字范围也常用符号 ~ (数学模式中用\sim) 表示，有时也会直接使用汉字的全角破折号或半个汉字破折号
- 西文的省略号使用 \ldots 或 \dots 命令产生，相比直接输入三个句号，它的间距更加合理
- \ldots 与 \dots 命令在正文中等价，他们会在每个点后添加小小的间距，因此即使在命令后直接加标点也能得到正确间距
- 在句中使用时，由于最后一个点后悔产生空格，会使得前后空格不等宽，此时需要将 \dots 命令放在公式模式中
- 其他不能直接输入的符号，都含有特殊功能，如数学模式符号 $ ，注释符 % ，上标 ^ ，分组 { }，宏命令 \\ ，此外 ~ (英文) 时带子，# 用在宏定义中, & 用于表格对其， _ 表示下标
- 要输入上述符号，需要在前面添加转义字符 \\， 此外，若要输入一个 \\，则使用命令 \textbackslash
- 此外，要输出 ~ 和 ^ ，则分别要使用 \\~{} 和 \\^{} 表示
- 注意数学符号中的 ~ (\sim) 一般不用于正文中，键盘上的双引号也很少用于正文中，而常被定义为其他作用
- 中文使用的标点与西文不同，中文写作使用全角标点
- 注意破折号 —— 和 省略号 他们都占两个中文字符，使用 shirft + - 和 shirft + 6 得到 ——  、 ……
- 科技文章中，为与数字、字母区分，中文的句号一般也用一个圆点表示，注意此时要使用全角的 ．而不能使用半角的英文 .
- 由于全角的 ．很难输入，因此可以先使用中文句号 。 后统一替换
- 还有另一种科技文章的写作风格，就是西文与中文统一使用西文的标点，只有顿号、破折号和省略号仍然使用中文标点。但这样可能造成标点太小，位置与汉字对不准以及字体风格不统一，要小心使用
- 使用xelatex作为排版引擎时，中文标点一般由 xeCJK 宏包空值，其提供了多种格式，默认为全角，即所有标点占一个汉字宽度，只在航模和个别标点之间进行标点挤压
- 可以使用 \puncstyle 命令修改一些标点格式

## 空格与换行

- 多个空格的作用于一个空格相同
- 只有字符后面的空格是有效的，每行前面的空格会被忽略
- 单个换行也被当做一个空格
- 以字母命名的宏，后面的空格会被忽略，若需要在后面使用空格，需要输入 \ +空格，或者在命令后加一个空分组{}，或者用一个分组把命令包起来
- 还有一种不可打断的空格，在Tex中称为带子，用 ~ 表示，Tex禁止在这种空格之间换行，比如人名之间的空格 Donald~E. Knuth
- 西文的逗号、句号、分号等标点后面应该添加空格，否则会影响换行
- 此外，大写字母的后面的.被当做是缩写标记，而小写字母后的.被当作是句子结束，二者产生的间距不同，因此若是大写字母的词结束或是小写表示的缩写时，需要明确指定
- 其中，小写缩写后跟一个 \ +空格 进行明确指定，如 et al.\空格 ，这样这个点会被理解为缩写
- 大写单词结束则用 \\@. 明确指定，如 number XII\\@. ，则这个.会被理解为句末的.
- 有时需要禁止这种在标点后的不同间距，如法语的排版习惯就是如此，此时可以使用 \frenchspacing 命令禁止标点后的额外间距
- 汉字后的空格会被忽略
- 使用 xelatex 编译中文文档时，若汉字和其他内容之间没有空格，xeCJK 宏包会自动添加空格
- 若需要取消这种空格，则需要把汉字放进一个盒子里： \mbox{汉字}aaa 
- 有时需要完全禁用汉字和其他内容之间的空格，这时可以使用 \CJKsetecglue{} 手工取消空格 (默认空格为1)
- LaTex有一种神奇的空格，称为幻影，其可以产生于参数等长的空格，如：\phantom{参数} ，该命令产生的空格与 参数 占用的宽度一致
- 类似的还有 \hphantom{} 和 \vphantom{}
- 连续两个换行即一个空行表示分段，段与段之间会自动得到合适的缩进
- 任意多个空行与一个空行效果相同
- 分段也可以用 \par 命令生成， 这种用法一般在命令或环境内使用，而在普通文本中不建议出现
- 与连续的空行类似，连续的 \par 命令也只产生一次分段效果
- 除了分段，还可以使用 \\\\ 或 \linebreak 让latex另起一行，其中 \\\\ 上一行会向左靠，而 \linebreak 的上一行会分散对齐，注意二者都不分段，因而新行不缩进
- \\\\ 命令在诗歌、对齐、表格、数学公式等环境中使用广泛，正文中一般不适用

## 字体

- 字号、字体编码、字体族、字体形状、字体系列是字体的5个性质
- 字号常常被单独列出来，字体编码也很少设置，因而字体族、字体形状、字体系列是比较重要的三个性质
- 字体族：定义基本字体以及其相关的变体，因此字体族其实就包括了字体整个的基本字体、字体形状、系列
- 字体形状：预定义的字体形状分别有4种，分别是直立形状 (Upright shape)、意大利体 (Italic shape)、倾斜 (Slanted shape)、小型大写 (Small Capitals Shape)
- 字体系列：有中等 (medium) 和 加宽加粗 (bold extended) 两种
- 注意，选择某字体时，其可能没有对应的加粗、倾斜字体
- 对于修改字体族、字体形状和字体系列，LaTex都提供了两种命令，一种是带参数的（即有括号的），一种是声明型的。带参数的常用于临时修改一小段文字的字体的，而声明型的更常用在环境内部或是花括号括起来的区域，定义整个环境或区域的字体

**字体族**

- LaTex预定义了3种西文字体族：罗马字体族 (roman family)、无衬线字体族 (sans serif family) 和 打印机字体族 (typewriter family)
- 自定义字体族相关命令如下表所示：

| 字体族 | 带参数命令 | 声明型命令 |
| :---: | :---: | :---: |
| 罗马 | \textrm{Roman} | \rmfamily |
| 无衬线 | \textsf{Sans} | \sffamily |
| 打字机 | \texttt{Typewriter} | \ttfamily |

**字体形状**

| 字体形状 | 带参数命令 | 声明型命令 |
| :---: | :---: | :---: |
| 直立 | \textup{Up} | \upshape |
| 意大利 | \textit{It} | \itshape |
| 倾斜 | \textsl{Sl} | \slshape |
| 小型大写 | \textsc{Sc} | \scshape |

- 对英文字体来说，我们常说的斜体即指上表中的倾斜，而意大利体更加像手写体，二者稍有区别
- 但对中文来说意大利体与斜体行为一致，一般采用意大利体指代斜体
- 注意使用斜体或倾斜的声明 \itshape 或 \slshape 时，最后一个倾斜的字母会超出右边界，使得后面的文字与它相距过紧，而带参数的命令 \textit{} 和 \textsl{} 会自动修正这个距离，此时，可以采用 \/ 命令手动校正倾斜距离
- 很少情况下，\text{} 的自动校正是不需要的，此时可以使用 \nocorr禁止自动校正，如 \textit{M\nocorr}M
- 可以使用 \renewcommand 重定义 \nocorrlist 命令，设置不对特定字符校正，LaTex默认不对句号和逗号校正
- 可以使用文档类的 AutoFakeSlant 选项开启伪斜体

**字体系列**

| 字体系列 | 带参数命令 | 声明型命令 |
| :---: | :---: | :---: |
| 中等 | \textmd{Medium} | \mdseries |
| 加粗 | \textbf{Bold} | \bfseries |

- 根据上述定义，一个字体族可以有 1*4*2 = 8 种形态
- 西文正文默认使用的是罗马字体族、直立形状、中等系列，这个格式可以称为普通格式，可以使用 \textnormal{文字} 或 \normalfont 将字体设置为普通格式
- 字体的三种性质有如确定字体的三维坐标，同一维度内的性质不能叠加，但不同类的性质则可以叠加
- Latex预定义的三个字体族，都具有上述的8种形态，但很多中文字体族，都只有基本的字体（相当于只有直立中等的字体，无其他加粗、斜体等），而没有其他变体
- 可以使用文档类的 AutoFakeBold 选项开启伪斜体

**默认中文字体**

- 中文字体通常没有细问字体那样复杂的成套的变体，各个字体之间一般都是相互独立的，只有少数字体有不同重量的成套字体
- 因此，对于上述问题，一般只使用不同的字体族来区分各个变体，如ctex宏包设置默认正常字体为宋体，加粗为黑体，意大利体和斜体都为楷书
- 选择中西文字体的命令不同，使用 \CJKfamily 选择中文字体，如 \CJKfamily{hei}，其中 hei 是提前使用 \setCJKfamilyfont{} 引入的字体
- ctex宏包默认（winfonts选项）对Windows配置了四种常用字体命令：宋体 - \songti， 黑体 - \heiti， 仿宋 - \fangsong， 楷书 - \kaishu
-  此外，还重定义了字体族 \rmfamily 和 \textrm ，其正常字体为宋体，粗体为黑体，意大利体为楷体（这也是ctex的默认使用字体族）
- 类似的， \sffamily 对应 sf 中文字体族， \ttfamily 对应 tt 中文字体族，可以同时作用于中西文,对应的中文字体分别为幼圆和仿宋

**使用更多字体**

- 选择非默认的字体有两种方法
    - 不使用XeLaTex时，可以通过字体宏包或LaTex底层字体命令调用在TeX系统中预先装好的字体
    - 使用XeLaTex引擎时，可以调用操作系统安装的中西文字体
    - Tex系统只安装了很少几种质量较差的中文字体，因此使用XeLaTex调用操作系统中的字体
- 一个TeX发行版通常都安装了大量西文字体，但直接使用LaTex底层命令 (2.1.3.1节) 较为困难，因此很多西文字体都做成了方便调用的字体宏包，可以更换整套的西文字体或数学字体
- 最简单的是 times 宏包，只更换正文字体； mathptmx 在 times 宏包的基础上增加了数学字体的支持；效果最好的免费字体则是 txfonts 宏包，其对整套西文文字和数学符号给出了完整的解决方案
- 有时需要分别定义正文字体和数学字体，此时需要手工指定不同包
- 如高德纳的 Concrete 正文字体和 Zapf 的 Euler 数学字体配合，需要综合 ccfont 和 euler 宏包，该组合适合在幻灯片中使用
```
\documentclass{article}

\usepackage[T1]{fontenc}
\usepackage{ccfonts, eulervm}

\begin{document}

	Test test

	{\rmfamily Test test}
\end{document}
```
- 除了XeLatex使用的Unicode编码 EU1，传统的LaTex字体编码有 一般正文字体 OT1、扩展正文字体 T1、数学字母OML、数学符号 OMS、数学符号扩展 OMX等

**使用XeLaTex选择字体**

- 在XeLaTex中,主要使用 fontspec 宏包设置字体
- 最基本的是设置正文罗马字体族、无衬线字体族和打字机字体族的命令，一般适用于设置西文，设置中文会同时导致西文字体变为对应字体，设置中文还有额外的命令：
    - \setmainfont[]{系统字体名} 设置罗马字体族为指定字体（默认采用罗马组）
    - \setsansfont[]{系统字体名} 设置无衬线字体族为指定字体
    - \setmonofont[]{系统字体名} 设置打印机字体族为指定字体
- 执行上述设置后， \rmfamily、\sffamily和\ttfamily就分别对应设置的三种字体，且fontspec会自动找到对应的粗体、斜体等变体
- 英文字体一般会自动找到对应的变体，无需额外设置选项，如：`\setmainfont{Courier New}`
- 也可以使用 `\newfontfamily\命令[]{系统字体名}` 定义一个字体，如：`\newfontfamily{\myfont}{Courier New}`，之后便可以使用 \myfont 使用该字体族
- xeCJK提供了与 fontspec 对应的中文字体设置命令，作用和前面对应的命令一致：
    - \setCJKmainfont[]{系统字体名}
    - \setCJKsansfont[]{系统字体名}
    - \setCJKmonofont[]{系统字体名}
- 使用命令：`\setCJKfamilyfont{中文字体族名称}[选项]{系统字体名}`定义一个中文字体族
- 使用 `\CJKfamily{中文字体族名称}` 选择字体族，且为了方便引用，一般会直接新定义一个命令来引用某字体族
```
% 定义字体族 myff
% 正文字体为华文仿宋，粗体为华文新魏，意大利体和斜体为华文彩云，斜粗体为华文琥珀
\setCJKfamilyfont{myff}[BoldFont=STXinwei, SlantedFont=STCaiyun, ItalicFont=STCaiyun, BoldItalicFont=STHupo]{STFangsong}
% 为了方便，将引用该字体族定义为一个命令
\newcommand{\myff}{\CJKfamily{myff}}
```
- 对中文来说，设置斜体、粗体、粗斜体的选项ItalicFont、BoldFont、BoldItalicFont特别有用，因为中文往往没有一整套加粗、斜体字体族，需要通过这些选项将其设置为不同的字体
- 当然也可以采用伪粗体和伪斜体的概念，此时需要在文档类传入AutoFakeBold和AutoFakeSlant选项打开对应功能
- 注意没有伪粗斜体

**可用字体**

- fc-list > c:\fontlist.txt 可以列出所有Latex可用字体到C:\fontlist.txt文件
- 列出的每一行是某一字体的某一种变体，其中最开始是文件路径，中间为字体族名称，style后面则是本行所代表的变体，逗号隔开表示变体名称在不同语言下的名称
- fc-list 可以使用许多参数控制输出的格式
- 只需要字体族名称，则可以加 -f "%{family}\n" 
- 使用 :lang=zh 选项可以控制只输出中文字体
- :outline 可以只显示矢量字体
- 例如：`fc-list -f "%{family} - %{style}\n" :lang=zh > c:\zhfont.txt`

**数学字体**

略

**强调文字**

- 使用 \emph{} 表示强调，可把直立体改为意大利体，把意大利体改为直立体
- 声明式强调 \em ，可用在分组或环境中
- \underline{} 用于添加下划线，且下划线部分不能换行
- ulem宏包的 \ulem 命令解决了这些问题，并把默认的 \emph 改为下划线
- ulem还提供了其他修饰，如双下划綫、虚线等，具体可以查询文档
- CJKfntef 宏包对汉字提供了类似的功能，并进行一些扩展：
    - \CJKunderdot{强调内容}
    - \CJKunderline{强调内容}
    - ...

**字号与行距**

- LaTex提供10个基本命令调整文字的大小，如\tiny \small \normalsize \large等
- 可以设置文档类的选项，如10pt，11pt等，全局设置文档的字号，默认为10pt
- \normalsize 即为10pt，表示字体中的一个 \quad 长度
- 上述命令会同时修改行距大小，默认为1.2倍行距
- 中文字号可以使用同样的方式设置，字号设置不区分中英文
- 为了明确，可以使用 ctex 宏包提供的 \zihao{} 命令
