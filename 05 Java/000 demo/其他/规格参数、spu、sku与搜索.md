

# 1. spu, sku 概念理解

- spu : Standard Product Unit, 标准产品单位，共同属性的商品集
- sku : Stock Keeping Unit, 库存量单位，具体商品
- 二者都会含有规格参数值的描述，其中 spu 有公共的规格参数部分，也有特殊根据不同的 spu 而有不同取值的部分（如颜色，内存）；而 spu 则只存取具体的规格参数部分，但这部分确定下来后，就可以确定具体的库存了，因此 sku 中的规格参数会影响到库存
- 对于通用的规格参数，要到 spu 中取得值，对于非通用的参数，则要到 sku 中取得值

# 2.  规格参数设计

- 首先要分组，不同的组有不同的具体规格参数
- 设计为两张表，一张为规格参数组，另一张为和组相关的具体规格参数，二者为一对多关系
- 还要注意，规格参数是和类别相关的，即同一个类别的商品下，具有的规格参数项相同（值不同），因此，组规格参数表中有一个外键指向类别
- tb_category 和 tb_spec_group 为 1:n 关系，tb_spec_group 和 tb_spec_param 为 1:n 关系，即一个类别下有多个规格参数组，一个规格参数组内有多个规格参数项
- 规格参数的设计要标记 : 是否通用 spu 参数、是否搜索参数、是否数字类型（搜索时要处理成区间）
- 优化 : 根据三范式，理论上只在 tb_spec_group 中添加 cid 即可，tb_spec_param 中可以通过 tb_spec_group 确定 cid，但很多时候我们需要直接根据 cid 直接查询出具体的规格参数项（例如搜索的时候），因此，我们往往会在 tb_spec_param 也添加 cid 列以优化查询

